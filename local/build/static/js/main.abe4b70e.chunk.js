(this.webpackJsonpjwt=this.webpackJsonpjwt||[]).push([[0],{168:function(e,t,a){},239:function(e,t){},258:function(e,t,a){e.exports=a(553)},263:function(e,t,a){},267:function(e,t){},269:function(e,t){},307:function(e,t){},308:function(e,t){},430:function(e,t,a){},450:function(e,t){},451:function(e,t){},552:function(e,t,a){e.exports=a.p+"static/media/think.b2b97b7a.jpeg"},553:function(e,t,a){"use strict";a.r(t);var n,r=a(0),o=a.n(r),l=a(6),i=a.n(l),s=(a(263),a(168),a(50)),c=a(51),u=a(53),m=a(52),p=a(54),d=a(56),h=a(243),f=a(557),g=a(117),E=f.a.Option,b={width:"100%",height:"100%"},v=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={stores:a.props.location.state.data,redirect:!1,selectvalue:"",filteredState:[]},a.handleChange=function(e){a.setState({selectvalue:e});var t=a.props.location.state.route.filter((function(t){return t.route===e})),n=t.map((function(e){return{latitude:e.latitude,longitude:e.longitude}}));a.setState({stores:n}),console.log(t)},a.componentDidMount=function(){console.log(a.props.location.state.route);var e=localStorage.getItem("mytoken");Object(h.verify)(e,"secretkey",(function(e,t){console.log("inside verify"),e&&a.setState({redirect:!0})}))},a.redirection=function(){if(a.state.redirect)return o.a.createElement(d.a,{to:"/login"})},a.displayMarkers=function(){return a.state.stores.map((function(e,t){return o.a.createElement(g.Marker,{key:t,id:t,position:{lat:e.latitude,lng:e.longitude}})}))},a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return o.a.createElement("div",null,this.redirection(),o.a.createElement("h1",null,"Select Route"),o.a.createElement(f.a,{defaultValue:"ROUTE 1",style:{width:120},onChange:this.handleChange},o.a.createElement(E,{value:"ROUTE 1"},"ROUTE 1"),o.a.createElement(E,{value:"ROUTE 2"},"ROUTE 2"),o.a.createElement(E,{value:"ROUTE 3"},"ROUTE 3"),o.a.createElement(E,{value:"ROUTE 4"},"ROUTE 4"),o.a.createElement(E,{value:"ROUTE 5"},"ROUTE 5"),o.a.createElement(E,{value:"ROUTE 6"},"ROUTE 6"),o.a.createElement(E,{value:"ROUTE 7"},"ROUTE 7"),o.a.createElement(E,{value:"ROUTE 8"},"ROUTE 8"),o.a.createElement(E,{value:"ROUTE 9"},"ROUTE 9")),o.a.createElement(g.Map,{google:this.props.google,zoom:8,style:b,initialCenter:{lat:17.350627,lng:78.492849}},this.displayMarkers()))}}]),t}(o.a.Component),y=Object(g.GoogleApiWrapper)({apiKey:"AIzaSyDDLeoJCQgm7xZuccfqeZ8wMmL_Cov5oqU"})(v),w=a(114),x=a(555),k=a(556),O=a(19),S=a(166),j=(a(430),a(229),a(250)),C=a.n(j),T=(a(447),a(452)),R=(a(453),function(e){function t(){var e,a;Object(s.a)(this,t);for(var r=arguments.length,l=new Array(r),i=0;i<r;i++)l[i]=arguments[i];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(l)))).state={stateData:[],redirect:!1,stateRoute:[]},a.buttonHandler=function(){a.setState({redirect:!0})},a.Redirection=function(){if(a.state.redirect)return o.a.createElement(d.a,{to:{pathname:"/map",state:{token:a.state.token,data:a.state.stateData,route:a.state.stateRoute}}})},a.handleFile=function(e){var t=[],r=n.result;t=T(r),console.log("to check",t);var o=t.map((function(e){return{latitude:e.lat,longitude:e.long}})),l=t.map((function(e){if("NOTFOUND"!==e.route)return{latitude:e.lat,longitude:e.long,route:e.route}}));a.setState({stateData:o,stateRoute:l})},a.fileHandler=function(e){(n=new FileReader).onloadend=a.handleFile,n.readAsText(e)},a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return o.a.createElement("div",{style:{padding:"20px 20px",margin:"100px auto",height:"300px",width:"300px",boxShadow:" 0 5px 10px 8px #888888"}},this.Redirection(),o.a.createElement("h1",null,"Choose Your File(.csv format)"),o.a.createElement("input",{type:"file",onChange:function(t){return e.fileHandler(t.target.files[0])}}),o.a.createElement("br",null),o.a.createElement("br",null),o.a.createElement("br",null),"   ",o.a.createElement(S.a,{type:"primary",onClick:this.buttonHandler},"Proceed"))}}]),t}(r.Component)),U=a(115),P=a.n(U),I=!1,D=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={email:"",password:"",users:[],redirect:!1,token:""},a.eventHandler=function(e){a.setState(Object(w.a)({},e.target.name,e.target.value))},a.componentDidMount=function(){var e=[];P.a.firestore().collection("users").get().then((function(t){t.forEach((function(t){var a={email:t.data().email,password:t.data().password};e.push(a)}))})),a.setState({users:e})},a.handleSubmit=function(e){e.preventDefault(),a.props.form.validateFields((function(e,t){if(!e){for(var n=0;n<a.state.users.length;n++){if(a.state.users[n].email===a.state.email&&a.state.users[n].password===a.state.password){I=!0,C.a.post(" https://cors-anywhere.herokuapp.com/https://googlemapsmarkernode.herokuapp.com/api/login",{email:a.state.email,password:a.state.password}).then((function(e){a.setState({redirect:!0}),localStorage.setItem("mytoken",e.data.token),a.setState({token:e.data.token})})).catch((function(e){}));break}I=!1}I?console.log("done"):alert("Credentials Incorrected")}}))},a.redirectionPage=function(){if(a.state.redirect)return o.a.createElement(d.a,{to:{pathname:"/filecatcher",state:{token:a.state.token}}})},a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props.form.getFieldDecorator;return o.a.createElement("div",null,o.a.createElement("div",{class:"main-bg"},o.a.createElement("div",{class:"box-conatiner"},this.redirectionPage(),o.a.createElement("div",{style:{margin:"10px auto"}},o.a.createElement(x.a,{onSubmit:this.handleSubmit,className:"login-form",style:{margin:"40px 110px 0px 300px"}},o.a.createElement(x.a.Item,null,o.a.createElement("h1",{style:{marginLeft:"30px",fontFamily:"Montserrat",fontSize:"50px",lineHeight:1.5,letterSpacing:2.95}},"LOGIN"),e("email",{rules:[{type:"email",message:"The input is not valid E-mail!"},{required:!0,message:"Please input your Email!"}]})(o.a.createElement(k.a,{onChange:this.eventHandler,value:this.state.email,name:"email",prefix:o.a.createElement(O.a,{type:"user",style:{color:"rgba(0,0,0,.25)"}}),placeholder:"Email"}))),o.a.createElement(x.a.Item,null,e("password",{rules:[{required:!0,message:"Please input your Password!"}]})(o.a.createElement(k.a.Password,{onChange:this.eventHandler,value:this.state.password,name:"password",prefix:o.a.createElement(O.a,{type:"lock",style:{color:"rgba(0,0,0,.25)"}}),type:"password",placeholder:"Password"}))),o.a.createElement(x.a.Item,null,e("remember",{valuePropName:"checked",initialValue:!0}),o.a.createElement(S.a,{type:"primary",htmlType:"submit",className:"login-form-button",style:{backgroundColor:"rgb(11,235,180)",color:"grey"}},"Log in")))))))}}]),t}(o.a.Component),F=x.a.create({name:"normal_login"})(D),H=P.a.initializeApp({apiKey:"AIzaSyDDLeoJCQgm7xZuccfqeZ8wMmL_Cov5oqU",authDomain:"jwt1-262708.firebaseapp.com",databaseURL:"https://jwt1-262708.firebaseio.com",projectId:"jwt1-262708",storageBucket:"jwt1-262708.appspot.com",messagingSenderId:"175444826255",appId:"1:175444826255:web:149ad2dcedec9ad85db8fa"}),N=H.firestore(),q=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={username:"",email:"",password:"",confirmpassword:"",check:!1,redirect:!1,users:[]},a.handleConfirmBlur=function(e){var t=e.target.value;a.setState({check:a.state.check||!!t})},a.compareToFirstPassword=function(e,t,n){var r=a.props.form;t&&t!==r.getFieldValue("password")?n("Two passwords that you enter is inconsistent!"):n()},a.componentDidMount=function(){var e=[];H.firestore().collection("users").get().then((function(t){t.forEach((function(t){e.push(t.data().email)}))})),a.setState({users:e})},a.handleSubmit=function(e){e.preventDefault(),a.props.form.validateFields((function(e,t){if(!e){for(var n=!1,r=0;r<a.state.users.length;r++)if(a.state.email===a.state.users[r]){n=!0;break}n?alert("email already exist"):(N.collection("users").add({username:a.state.username,email:a.state.email,password:a.state.password}).then((function(e){alert("Account Created")})).catch((function(e){})),a.setState({redirect:!0}))}}))},a.eventHandler=function(e){a.setState(Object(w.a)({},e.target.name,e.target.value))},a.redirection=function(){if(a.state.redirect)return o.a.createElement(d.a,{to:"/login"})},a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props.form.getFieldDecorator;return o.a.createElement("div",{class:"main-bg"},o.a.createElement("div",{class:"box-conatiner"},this.redirection(),o.a.createElement(x.a,{onSubmit:this.handleSubmit,className:"login-form",style:{margin:"20px 110px 20px 300px"}},o.a.createElement(x.a.Item,{label:"User Name"},e("username",{rules:[{required:!0,message:"Please input your username!"}]})(o.a.createElement(k.a,{onChange:this.eventHandler,value:this.state.username,name:"username",prefix:o.a.createElement(O.a,{type:"user",style:{color:"rgba(0,0,0,.25)"}}),placeholder:"Username"}))),o.a.createElement(x.a.Item,{label:"E-mail"},e("email",{rules:[{type:"email",message:"The input is not valid E-mail!"},{required:!0,message:"Please input your Email!"}]})(o.a.createElement(k.a,{onChange:this.eventHandler,value:this.state.email,name:"email",prefix:o.a.createElement(O.a,{type:"email",style:{color:"rgba(0,0,0,.25)"}}),placeholder:"Email"}))),o.a.createElement(x.a.Item,{label:"Password",hasFeedback:!0},e("password",{rules:[{required:!0,message:"Please input your Password!"},{validator:this.validateToNextPassword}]})(o.a.createElement(k.a.Password,{onChange:this.eventHandler,value:this.state.password,name:"password",prefix:o.a.createElement(O.a,{type:"lock",style:{color:"rgba(0,0,0,.25)"}}),type:"password",placeholder:"Password"}))),o.a.createElement(x.a.Item,{label:"Confirm Password",hasFeedback:!0},e("confirmpassword",{rules:[{required:!0,message:"Please Re-Enter your Password!"},{validator:this.compareToFirstPassword}]})(o.a.createElement(k.a.Password,{onBlur:this.handleConfirmBlur,onChange:this.eventHandler,value:this.state.confirmpassword,name:"confirmpassword",prefix:o.a.createElement(O.a,{type:"lock",style:{color:"rgba(0,0,0,.25)"}}),type:"password",placeholder:"Password"}))),o.a.createElement(x.a.Item,null,e("remember",{valuePropName:"checked",initialValue:!0}),o.a.createElement(S.a,{type:"primary",htmlType:"submit",className:"login-form-button",style:{backgroundColor:"rgb(11,235,180)",color:"grey"}},"Sign Up")))))}}]),t}(o.a.Component),A=x.a.create({name:"normal_login"})(q),M=a(44);a(552);var L=function(){return o.a.createElement("div",{style:{backgroundColor:"#f6f5f1",height:"700px",padding:"50px 50px"}},o.a.createElement("ul",{style:{display:"flex",justifyContent:"space-around"}},o.a.createElement("li",{style:{boxShadow:"5px 10px 18px grey",backgroundColor:"rgb(0,244,180)"}},o.a.createElement(M.b,{to:"/signup",style:{fontSize:"90px",padding:"5px 5px"}},"SignUp")),o.a.createElement("li",{style:{boxShadow:"5px 10px 18px grey",backgroundColor:"rgb(0,244,180)"}},o.a.createElement(M.b,{to:"/login",style:{fontSize:"90px",padding:"5px 5px"}},"Login"))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var z=o.a.createElement(M.a,null,o.a.createElement("div",null,o.a.createElement(d.d,null,o.a.createElement(d.b,{exact:!0,path:"/",component:L}),o.a.createElement(d.b,{exact:!0,path:"/login",component:F}),o.a.createElement(d.b,{exact:!0,path:"/signup",component:A}),o.a.createElement(d.b,{exact:!0,path:"/map",component:y}),o.a.createElement(d.b,{exact:!0,path:"/filecatcher",component:R}))));i.a.render(z,document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[258,1,2]]]);
//# sourceMappingURL=main.abe4b70e.chunk.js.map